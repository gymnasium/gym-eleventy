{%- if module -%}
  {%- if (module.id and module.id | is_string) -%}

  {%- elif module.ids -%}
    {%- for idx in range(0, module.ids.length) -%}
      {%- set filteredId = collections.catalog | get_key(module.ids[idx].id) -%}
      {%- set obj = collections.catalog[filteredId] -%}
      {%- set path = module.ids[idx].id | get_path -%}
      {%- set imgPath = module.ids[idx].id | get_path(true) -%}
      {%- set title = obj.title | strip_html -%}
      
      {%- if obj.subtitle -%}
        {%- set subtitle = obj.subtitle | strip_html -%}
      {%- elif module.subtitle -%}
        {%- if module.subtitle | is_string -%}
          {%- set subtitle = module.subtitle -%}
        {%- elif module.subtitle | is_object -%}
          {%- set subtitle -%}{{ module.subtitle['pre'] }} {{ bios[obj.instructor].name }} {{ module.subtitle['post'] }}{%- endset -%}
        {%- endif -%}
      {%- endif -%}
      
      {%- set description = obj.description -%}
      
      {%- if obj.slug -%}
        {%- set slug = obj.slug -%}
      {%- else -%}
        {%- set slug = title | slugify -%}
      {%- endif -%}

      {%- set shortId = obj.id -%}
      {%- set type = obj.type -%}

      {# TODO: standardize image locations for ease of development #}
      {%- set src = config.cms_url + imgPath +  shortId + '.svg' -%}
      {%- if type === 'tutorial' -%}
        {%- set src = config.cms_url + imgPath +  shortId + '.jpg' -%}
      {%- elseif type === 'webinar' -%}
        {%- set src = config.cms_url + imgPath +  slug + '.jpg' -%}
      {%- endif -%}
      {%- set srcSet = src -%}

      <section id="{{ shortId | lower }}">
        <header>
          <h1>{{ title }}</h1>
          <p>{{ subtitle }}</p>
        </header>
        <figure>
          <img style="max-width: 5rem;" alt="{{ title }}" srcset="{{ srcSet }}" src="{{ src }}">
        </figure>
        <div>
          {%- if description -%}
            <p>{{ description }}</p>
          {%- endif -%}
          {%- if module.cta -%}
            <div class="cta">
              <a class="{{ module.cta.type }}" href="{{ path }}{{ slug }}">{{ module.cta.label }}</a>
            </div>
          {%- endif -%}
          {%- if (obj.skills) -%}
            <div class="skills">
              <h3>Skills Covered</h3>
              <ul>
              {%- for i in range(0, obj.skills.length) -%}
                <li>{{ obj.skills[i].label }}</li>
              {%- endfor -%}
              </ul>
            </div>
          {%- endif -%}
          {%- if (obj.audience) -%}
            <div class="audience">
              <h3>This Course is For</h3>
              <ul>
              {%- for i in range(0, obj.audience.length) -%}
                <li>{{ obj.audience[i].label }}</li>
              {%- endfor -%}
              </ul>
            </div>
          {%- endif -%}
        </div>
      </section>
    {%- endfor -%}
  {%- endif -%}
{%- else -%}
  <em>{ Panel Module Placeholder }</em>
  <p>Pass in the `module` variable to make this work</p>
{%- endif -%}
